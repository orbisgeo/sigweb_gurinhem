<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapa Interativo com Visualização de Atributos (OpenLayers)</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.15.1/css/ol.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <div id="map"></div>

    <div class="form-container" id="mainFormContainer">
        <h4>Ferramentas do Mapa</h4>
        <button id="btnMeasureDistance" onclick="mapFunctions.toggleMeasureDistance()">📏 Medir Distância</button>
        <button id="btnMeasureArea" onclick="mapFunctions.toggleMeasureArea()">📐 Medir Área</button>
        <button id="btnClearMeasure" onclick="mapFunctions.clearMeasurements()">🗑️ Limpar Medições</button>
        <hr />
        <button id="btnExportLayers" onclick="mapFunctions.mostrarOpcoesExportacao()">📤 Exportar Camada (KML)</button>
        <hr />
        <button id="btnPrintMap" onclick="mapFunctions.activatePrintMode()">🖨️ Imprimir Mapa</button>
    </div>

    <div id="customLayerControl" class="custom-layer-control">
        <h4>Camadas</h4>
    </div>

    <div id="searchContainer" class="search-container">
        <h4>Buscar Feição</h4>
        <label for="camadaSelect">Camada:</label>
        <select id="camadaSelect"></select>

        <label for="campoSelect">Campo:</label>
        <select id="campoSelect"></select>

        <label for="valorBusca">Valor:</label>
        <input type="text" id="valorBusca" placeholder="Digite para buscar..." autocomplete="off">
        <div id="sugestoes"></div>

        <button onclick="mapFunctions.buscarFeicao()">🔍 Buscar</button>
        <button onclick="mapFunctions.clearSearchHighlight()" style="background: #ef4444;">❌ Limpar Busca</button>
    </div>

    <div id="printModeControls" class="print-mode-controls">
        <p style="margin: 0 0 10px 0; font-weight: bold;">Ajuste o mapa para a impressão:</p>
        <button onclick="mapFunctions.triggerPrint()">🖨️ Imprimir Agora</button>
        <button onclick="mapFunctions.deactivatePrintMode()" style="background: #ef4444;">✖️ Cancelar</button>
    </div>

    <div id="northArrowPrint">↑ N</div>

    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.15.1/build/ol.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/proj4@2.9.2/dist/proj4.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsts@2.0.0/dist/jsts.min.js"></script>

    <script src="script.js"></script>
</body>
</html>
